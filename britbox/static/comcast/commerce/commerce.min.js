/*! For license information please see commerce.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.commerce=e():t.commerce=e()}(self,(()=>(()=>{var t={757:(t,e,r)=>{t.exports=r(666)},669:(t,e,r)=>{t.exports=r(609)},448:(t,e,r)=>{"use strict";var n=r(867),o=r(26),i=r(372),a=r(327),s=r(97),c=r(109),u=r(985),p=r(61);t.exports=function(t){return new Promise((function(e,r){var l=t.data,f=t.headers,d=t.responseType;n.isFormData(l)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var y=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";f.Authorization="Basic "+btoa(y+":"+g)}var v=s(t.baseURL,t.url);function b(){if(h){var n="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,i={data:d&&"text"!==d&&"json"!==d?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:t,request:h};o(e,r,i),h=null}}if(h.open(t.method.toUpperCase(),a(v,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,"onloadend"in h?h.onloadend=b:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(b)},h.onabort=function(){h&&(r(p("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){r(p("Network Error",t,null,h)),h=null},h.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(p(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},n.isStandardBrowserEnv()){var m=(t.withCredentials||u(v))&&t.xsrfCookieName?i.read(t.xsrfCookieName):void 0;m&&(f[t.xsrfHeaderName]=m)}"setRequestHeader"in h&&n.forEach(f,(function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete f[e]:h.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),d&&"json"!==d&&(h.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){h&&(h.abort(),r(t),h=null)})),l||(l=null),h.send(l)}))}},609:(t,e,r)=>{"use strict";var n=r(867),o=r(849),i=r(321),a=r(185);function s(t){var e=new i(t),r=o(i.prototype.request,e);return n.extend(r,i.prototype,e),n.extend(r,e),r}var c=s(r(655));c.Axios=i,c.create=function(t){return s(a(c.defaults,t))},c.Cancel=r(263),c.CancelToken=r(972),c.isCancel=r(502),c.all=function(t){return Promise.all(t)},c.spread=r(713),c.isAxiosError=r(268),t.exports=c,t.exports.default=c},263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},972:(t,e,r)=>{"use strict";var n=r(263);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,r)=>{"use strict";var n=r(867),o=r(327),i=r(782),a=r(572),s=r(185),c=r(875),u=c.validators;function p(t){this.defaults=t,this.interceptors={request:new i,response:new i}}p.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&c.assertOptions(e,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(n=n&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(t){i.push(t.fulfilled,t.rejected)})),!n){var p=[a,void 0];for(Array.prototype.unshift.apply(p,r),p=p.concat(i),o=Promise.resolve(t);p.length;)o=o.then(p.shift(),p.shift());return o}for(var l=t;r.length;){var f=r.shift(),d=r.shift();try{l=f(l)}catch(t){d(t);break}}try{o=a(l)}catch(t){return Promise.reject(t)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},p.prototype.getUri=function(t){return t=s(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){p.prototype[t]=function(e,r){return this.request(s(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){p.prototype[t]=function(e,r,n){return this.request(s(n||{},{method:t,url:e,data:r}))}})),t.exports=p},782:(t,e,r)=>{"use strict";var n=r(867);function o(){this.handlers=[]}o.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},97:(t,e,r)=>{"use strict";var n=r(793),o=r(303);t.exports=function(t,e){return t&&!n(e)?o(t,e):e}},61:(t,e,r)=>{"use strict";var n=r(481);t.exports=function(t,e,r,o,i){var a=new Error(t);return n(a,e,r,o,i)}},572:(t,e,r)=>{"use strict";var n=r(867),o=r(527),i=r(502),a=r(655);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=o.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=o.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(s(t),e&&e.response&&(e.response.data=o.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:t=>{"use strict";t.exports=function(t,e,r,n,o){return t.config=e,r&&(t.code=r),t.request=n,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},185:(t,e,r)=>{"use strict";var n=r(867);t.exports=function(t,e){e=e||{};var r={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function u(o){n.isUndefined(e[o])?n.isUndefined(t[o])||(r[o]=c(void 0,t[o])):r[o]=c(t[o],e[o])}n.forEach(o,(function(t){n.isUndefined(e[t])||(r[t]=c(void 0,e[t]))})),n.forEach(i,u),n.forEach(a,(function(o){n.isUndefined(e[o])?n.isUndefined(t[o])||(r[o]=c(void 0,t[o])):r[o]=c(void 0,e[o])})),n.forEach(s,(function(n){n in e?r[n]=c(t[n],e[n]):n in t&&(r[n]=c(void 0,t[n]))}));var p=o.concat(i).concat(a).concat(s),l=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===p.indexOf(t)}));return n.forEach(l,u),r}},26:(t,e,r)=>{"use strict";var n=r(61);t.exports=function(t,e,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},527:(t,e,r)=>{"use strict";var n=r(867),o=r(655);t.exports=function(t,e,r){var i=this||o;return n.forEach(r,(function(r){t=r.call(i,t,e)})),t}},655:(t,e,r)=>{"use strict";var n=r(867),o=r(16),i=r(481),a={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=r(448)),c),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)||e&&"application/json"===e["Content-Type"]?(s(e,"application/json"),function(t,e,r){if(n.isString(t))try{return(0,JSON.parse)(t),n.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional,r=e&&e.silentJSONParsing,o=e&&e.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||o&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(a){if("SyntaxError"===t.name)throw i(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){u.headers[t]=n.merge(a)})),t.exports=u},849:t=>{"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},327:(t,e,r)=>{"use strict";var n=r(867);function o(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var i;if(r)i=r(e);else if(n.isURLSearchParams(e))i=e.toString();else{var a=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))})))})),i=a.join("&")}if(i){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},372:(t,e,r)=>{"use strict";var n=r(867);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},268:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},985:(t,e,r)=>{"use strict";var n=r(867);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(e){var r=n.isString(e)?o(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},16:(t,e,r)=>{"use strict";var n=r(867);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},109:(t,e,r)=>{"use strict";var n=r(867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,i,a={};return t?(n.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=n.trim(t.substr(0,i)).toLowerCase(),r=n.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([r]):a[e]?a[e]+", "+r:r}})),a):a}},713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},875:(t,e,r)=>{"use strict";var n=r(593),o={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){o[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var i={},a=n.version.split(".");function s(t,e){for(var r=e?e.split("."):a,n=t.split("."),o=0;o<3;o++){if(r[o]>n[o])return!0;if(r[o]<n[o])return!1}return!1}o.transitional=function(t,e,r){var o=e&&s(e);function a(t,e){return"[Axios v"+n.version+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,s){if(!1===t)throw new Error(a(n," has been removed in "+e));return o&&!i[n]&&(i[n]=!0,console.warn(a(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,s)}},t.exports={isOlderVersion:s,assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),o=n.length;o-- >0;){var i=n[o],a=e[i];if(a){var s=t[i],c=void 0===s||a(s,i,t);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+i)}},validators:o}},867:(t,e,r)=>{"use strict";var n=r(849),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==o.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function u(t){return"[object Function]"===o.call(t)}function p(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:p,merge:function t(){var e={};function r(r,n){c(e[n])&&c(r)?e[n]=t(e[n],r):c(r)?e[n]=t({},r):i(r)?e[n]=r.slice():e[n]=r}for(var n=0,o=arguments.length;n<o;n++)p(arguments[n],r);return e},extend:function(t,e,r){return p(e,(function(e,o){t[o]=r&&"function"==typeof e?n(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},897:(t,e)=>{e.defaults={},e.set=function(t,r,n){var o=n||{},i=e.defaults,a=o.expires||i.expires,s=o.domain||i.domain,c=void 0!==o.path?o.path:void 0!==i.path?i.path:"/",u=void 0!==o.secure?o.secure:i.secure,p=void 0!==o.httponly?o.httponly:i.httponly,l=void 0!==o.samesite?o.samesite:i.samesite,f=a?new Date("number"==typeof a?(new Date).getTime()+864e5*a:a):0;document.cookie=t.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+r.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(f&&f.getTime()>=0?";expires="+f.toUTCString():"")+(s?";domain="+s:"")+(c?";path="+c:"")+(u?";secure":"")+(p?";httponly":"")+(l?";samesite="+l:"")},e.get=function(t){for(var e=document.cookie.split(";");e.length;){var r=e.pop(),n=r.indexOf("=");if(n=n<0?r.length:n,decodeURIComponent(r.slice(0,n).replace(/^\s+/,""))===t)return decodeURIComponent(r.slice(n+1))}return null},e.erase=function(t,r){e.set(t,"",{expires:-1,domain:r&&r.domain,path:r&&r.path,secure:0,httponly:0})},e.all=function(){for(var t={},e=document.cookie.split(";");e.length;){var r=e.pop(),n=r.indexOf("=");n=n<0?r.length:n,t[decodeURIComponent(r.slice(0,n).replace(/^\s+/,""))]=decodeURIComponent(r.slice(n+1))}return t}},601:t=>{t.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABIxJREFUWAnFmU2IVlUYx+e1hCxBtJCcWiQzC1NnoUJtgsBF0CIyN6IL3blRF7lRhLpgSFtxBjctI5gxMAqqRYtaRExgieUHLvwAUcsP+lDJD2j6/ca578zc97n33Pu+M/TAj3vvc/7Pc56595xzz32n1delTUxMDBD6NmyA/hlw2ndtBj9x/nmr1bpgQ1NrNQmgqOXod8M7sBYewUm4CnlRnPatAIt+EdbDk3AaPoMRir3Bce6MwhZDBnfgLozBNliS6gXN0intKMd7YI4MFqdia7WTaDP8Bg9hGLyLXRmxz8NRMJc5N3eVyCCCW5DBv/AlDHadrBBIrgH4CsydQaOhZnGL4Bhoh6BZgkJB0SU5F8CHoNnXokjX4UPonfsU/oGtHYI5dtCHY9m+LDJ9IxBloM17cfnfSl8WqWW5LzwicEI4Lg6Fgnl00qeP277jiUODS4kzywmRvtVBsd3GmYpYx6QTxxo6lyCcGTj9G89WYpxUo+BYugnvBvUnXcQ5u61h9qPGsRxcQIeTWQIBcRZXtJ2BNOkiieuktUyvt1x8AL4hpp3JVI8FxOyEyLybG2umacuIcTH3jXNQ5+RY4+JXzs/yjtzSVpacoH2OpjfAP+Y1cFCXjdkJ2n6AK3AbPqKPUxwrjT5GEaxBO+Tg9LlryWUFzWpwEHdrPrrXK6ujEU2+7Ax4sRccmHVe/OfQ9Wpf1yjQDcYj2LsAsfu5k9zOv6oCETv1V1Vpara9nNJRyx9ofoYNFui+zf1cpRF0F8EvJaKH+PdDvnH1XF9k30TOwOe47fcRn4eRQNDhQrcLIttXFCPaFwnxvVLURtfo3Nqdt0AH7oFIVPShewocG0VzBz3LEPQXRVzfmyWquEB7AO74iF0KahmP+T7CskdXzBHl9Y2zrCisurbA6+DYSRrJNyJ6OhBuD3w7Ap/r5e7AH7ms6ZqP+Fs4HimKPnQfQ2QPcDrmVkyxn6O+yC7jLFvY212iOQ7fuTn9BO8gj+/VdmvJCdpLNL1U0tzEvZT+/qwKoK8fab/oI/a7dR2O5EKN7gT0aidqFGct62DcR9zkVbcG/VXo1lzSXkj9hWjyV93KybGAo8lmwcHre/tZ8MPczcIzEJkz/gh8D36se/f82K806hlDsBrt0KQQRy/brVXE34bI3qqsJGgkiXtTt34H281TThfs4bazwQlxb0JxAT/cIEVbSp4R+Bvc1k0bjgzc1TTe8puFuE0wDmfBD6AnprPXOyNmEKzhvY4InD1/NHUkbeCgf5c8P9h+t5YwlIb/87PTXzD87NwUFpc7EWSgJXfYeUyvR/ua7DF6tMXkCL3V/gzhR8+8F2kfU30dK9ZSek2Auw6L1ObrxyNvhLk1+6r341FeNQEmyMBxMdc/vzlbzWnuzhmbF1HnSAInjl9yTn93uY2/nfN+jAXXOXM5W6snRB6YOpIo+gnYsZPcYKgBtWPgG8JF+H2Il5JCMcl92Uw9Sb17e8C/fC2U/Yju+1rcGLgrWQhnwH3nEd6xtzjWskYFzsxIsVX/hnCX7q/+HsfhC4pyL9nY/gMXG2+mRBQhagAAAABJRU5ErkJggg=="},163:t=>{t.exports="data:image/png;charset=utf-8;base64,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"},666:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,i=Object.create(o.prototype),a=new B(n||[]);return i._invoke=function(t,e,r){var n=l;return function(o,i){if(n===d)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var c=p(t,e,r);if("normal"===c.type){if(n=r.done?h:f,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l="suspendedStart",f="suspendedYield",d="executing",h="completed",y={};function g(){}function v(){}function b(){}var m={};c(m,i,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(I([])));w&&w!==r&&n.call(w,i)&&(m=w);var k=b.prototype=g.prototype=Object.create(m);function T(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,s){var c=p(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function E(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=p(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function B(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function I(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:S}}function S(){return{value:e,done:!0}}return v.prototype=b,c(k,"constructor",b),c(b,"constructor",v),v.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},T(A.prototype),c(A.prototype,a,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new A(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(k),c(k,s,"Generator"),c(k,i,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=I,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},75:t=>{for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function(t,r){var n=r||0,o=e;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}},217:t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},171:(t,e,r)=>{var n=r(217),o=r(75);t.exports=function(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}},593:t=>{"use strict";t.exports=JSON.parse('{"_args":[["axios@0.21.4","/tmp/build/80754af9/code"]],"_from":"axios@0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"axios@0.21.4","name":"axios","escapedName":"axios","rawSpec":"0.21.4","saveSpec":null,"fetchSpec":"0.21.4"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_spec":"0.21.4","_where":"/tmp/build/80754af9/code","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n={};return(()=>{"use strict";function t(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function e(e){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=e.apply(r,n);function s(e){t(a,o,i,s,c,"next",e)}function c(e){t(a,o,i,s,c,"throw",e)}s(void 0)}))}}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}r.d(n,{default:()=>Cr});var i=r(757),a=r.n(i),s=r(897);const c=Object.freeze({OAT:"CommerceOat",BEARERTOKEN:"CommerceBearerToken",D:"CommerceD",ST:"CommerceST"});function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}const f=Object.freeze({ADD:"ADD",CANCEL:"CANCEL",CHANGE:"CHANGE",PURCHASE:"PURCHASE"}),d=Object.freeze({UPGRADE:"UPGRADE",DOWNGRADE:"DOWNGRADE"}),h=Object.freeze({DISCOUNT:"DISCOUNT",CHANGE_PAYMENT_INFO:"CHANGE_PAYMENT_INFO",CONVERT_WITHIN_SAME_PERIOD:"CONVERT_WITHIN_SAME_PERIOD"});var y=Object.values(f),g=Object.values(d),v=Object.values(h);function b(t){return"string"===o(t)}var m=p((function t(e){var r=e.type,n=e.sku,i=e.oldSku,a=e.quantity,s=void 0===a?1:a,c=e.changeType,u=e.upgradeOption;if(l(this,t),!y.includes(r))throw new TypeError('property type, "'.concat(r,'", is not a valid TransactionType'));if(this.type=r,r===f.CHANGE){if(i===n)throw new Error("expected different values for sku and oldSku, but values were there same");if(!b(i))throw new TypeError('expected property oldSku to be of type "string" or "number" in CHANGE transaction, but was of type '.concat(o(i)));if(this.oldSku=i,!c||!g.includes(c))throw new TypeError('"'.concat(c,'" is not a valid changeType of a transaction'));if(this.changeType=c,"UPGRADE"===c){if(!u||!v.includes(u))throw new TypeError('"'.concat(u,'" is not a valid upgradeOption of a transaction'));this.upgradeOption=u}}if(!b(n))throw new TypeError('expected property sku to be of type "string" or "number", but was of type '.concat(o(n)));if(this.sku=n,this.quantity=parseInt(s,10),Number.isNaN(this.quantity))throw new TypeError("quantity could not be resolved to a number value")}));const x=m;function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}function T(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||k(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const A=function(){function t(){l(this,t),this.merchantTransactionId=null,this.transactions=[],this.add.apply(this,arguments)}return p(t,[{key:"add",value:function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=this.transactions).push.apply(t,T(r.map((function(t){return t instanceof x?t:new x(t)}))))}}]),t}(),E=Object.freeze({vidDownSub:"vidDownSub",vidStreamSub:"vidStreamSub",vidFeatSub:"vidFeatSub",audDownSub:"audDownSub",audStreamSub:"audStreamSub",onDemand:"onDemand",PPV:"PPV",videoEST:"videoEST",audioEST:"audioEST",digitalEST:"digitalEST"}),O=Object.freeze({PromoSub:"PromoSub",PaidSub:"PaidSub",RenewSub:"RenewSub",OneTime:"OneTime"}),P=Object.freeze({P1D:"P1D",P1W:"P1W",P1Y:"P1Y",P6M:"P6M",P3M:"P3M",P1M:"P1M"});var B=Object.values(E),I=Object.values(O),S=Object.values(P);function C(t){return"string"===o(t)}function D(t){return new Date(t).getTime()>0}function j(t){return/^\d+(\.\d{1,2})?$/.test(t)}const L=p((function t(e){var r,n=this,o=e.appName,i=e.appId,a=e.currency,s=e.productDetails;if(l(this,t),this.productSubscriptionInfo={},!o)throw new TypeError("Must provide an appName");if(this.appName=o,!o)throw new TypeError("Must provide an appId");if(this.appId=i,!a)throw new TypeError("Must provide a currency");if(this.currency=a,!s)throw new TypeError("Must provide an productDetails");if(this.productDescription="",!Array.isArray(s))throw new TypeError("productDetails must be type of Array");s.forEach((function(t){if(!t.description)throw new TypeError("Must provide a description");if(n.productDescription?n.productDescription+=", ".concat(t.description):n.productDescription=t.description,!t.sku)throw new TypeError("Must provide a SKU");if(!I.includes(t.chargeCategory))throw new TypeError('property type, "'.concat(t.chargeCategory,'", is not a valid chargeCategoryType'));if(!t.startDate)throw new TypeError("Must provide an startDate");if(!D(t.startDate))throw new TypeError("startDate must be a valid UNIX supported timestamp");if(t.chargeCategory!==O.OneTime){if(!t.endDate)throw new TypeError("Must provide an endDate");if(!D(t.endDate))throw new TypeError("endDate must be a valid UNIX supported timestamp");if(t.startDate>t.endDate)throw new TypeError("endDate must be ahead of startDate");if(!S.includes(t.frequency))throw new TypeError('property type, "'.concat(t.frequency,'", is not a valid frequencyType'));if("{}"===JSON.stringify(n.productSubscriptionInfo))n.productSubscriptionInfo.frequency=t.frequency,n.productSubscriptionInfo.endDate=t.endDate;else if(n.productSubscriptionInfo.frequency!==t.frequency||n.productSubscriptionInfo.endDate!==t.endDate)throw new TypeError("Consent only supports product type of subscription with the same frequency and endDate")}var e=t.productCategory;if(!B.includes(e)&&!e.startsWith("vudu"))throw new TypeError('property type, "'.concat(t.productCategory,'", is not a valid productCategory'));if(!t.productPrice)throw new TypeError("Must provide an productPrice");if(!C(t.productPrice))throw new TypeError("productPrice must be a type of string");if(!j(t.productPrice))throw new TypeError("productPrice must be in a valid currency format");if(!t.chargeAmount)throw new TypeError("Must provide an chargeAmount");if(!C(t.chargeAmount))throw new TypeError("chargeAmount must be a type of string");if(!j(t.chargeAmount))throw new TypeError("chargeAmount must be in a valid currency format")})),this.productDescription.length>270&&(this.productDescription=(r=this.productDescription.slice(0,260),"".concat(r," ...(more)"))),this.productDetails=s,this.productSubscriptionInfo={}}));var R=r(669),N=r.n(R);function F(t,e){return F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},F(t,e)}function U(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}function H(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}function X(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Q(t,e,r){return Q=X()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&F(o,r.prototype),o},Q.apply(null,arguments)}function M(t){var e="function"==typeof Map?new Map:void 0;return M=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Q(t,arguments,z(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),F(n,t)},M(t)}var G=function(t){U(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=z(e);if(r){var o=z(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return H(this,t)});function o(t){var e;return l(this,o),(e=n.call(this,t)).name="BadgerError",e}return p(o)}(M(Error)),q={all:0,trace:1,debug:2,info:3,warn:4,error:5,none:6};Object.keys(q).forEach((function(t){q[t.toUpperCase()]=q[t]})),Object.freeze(q);var K={toBrowserConsole:function(t,e){for(var r,n=t.toUpperCase()+" -> "+e,o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];(r=window.console).log.apply(r,[n].concat(i))},log:function(t,e){if(this.currentLogLevel<q.none&&q[t]>=this.currentLogLevel){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];K.toBrowserConsole.apply(K,[t,e].concat(n))}},validateLogLevel:function(t){if("string"==typeof t&&void 0!==q[t])return q[t];if("number"==typeof t&&t>=q.all&&t<=q.none)return t;throw new Error("Invalid Log level "+t)}};const W=new(function(){function t(e){l(this,t),this.setCurrentLogLevel(e)}return p(t,[{key:"getCurrentLogLevel",value:function(){return this.currentLogLevel}},{key:"setCurrentLogLevel",value:function(t){this.currentLogLevel=K.validateLogLevel(t)}},{key:"trace",value:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(e=K.log).call.apply(e,[this,"trace",t].concat(n))}},{key:"debug",value:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(e=K.log).call.apply(e,[this,"debug",t].concat(n))}},{key:"info",value:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(e=K.log).call.apply(e,[this,"info",t].concat(n))}},{key:"warn",value:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(e=K.log).call.apply(e,[this,"warn",t].concat(n))}},{key:"error",value:function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(e=K.log).call.apply(e,[this,"error",t].concat(n))}}]),t}())(3);var J,V=1e4,Y="Badger timed out after waiting 10 seconds",_=new Promise((function(t,e){if(document.addEventListener("onMoneyBadgerReady",(function(){t()})),$badger&&$badger.active())t();else var r=0,n=setInterval((function(){$badger&&$badger.active()&&(clearInterval(n),t()),++r>=10&&(clearInterval(n),e(new G(Y)))}),V)}));function Z(t,e){$badger.info().success((function(e){try{var r=e.timezone.match(/([+-]?)(\d+):(\d+)/),n=60*parseInt(r[2],10)+parseInt(r[3],10);"-"===r[1]&&(n*=-1),J={timezone:n,partnerId:e.partnerId,userExperience:e.userExperience||null}}catch(t){J={timezone:"",partnerId:e.partnerId,userExperience:e.userExperience||null}}t(J)})).failure((function(t){e(new G(t))})).timeout((function(){e(new G(Y))}),V)}function $(){return tt.apply(this,arguments)}function tt(){return(tt=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_;case 2:return t.abrupt("return",J||new Promise(Z));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function et(){return rt.apply(this,arguments)}function rt(){return(rt=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$();case 2:return t.abrupt("return",t.sent.timezone);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nt(t,e){$badger.xscd().success((function(e){t(e)})).failure((function(t){e(new G(t))})).timeout((function(){e(new G(Y))}),V)}function ot(){return it.apply(this,arguments)}function it(){return(it=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_;case 2:return t.abrupt("return",new Promise(nt));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function at(t,e){$badger.platformAuth().getToken().success((function(e){t(e)})).failure((function(t){e(new G(t))}))}function st(){return ct.apply(this,arguments)}function ct(){return(ct=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_;case 2:return t.abrupt("return",new Promise(at));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ut(t,e){W.info("Launching X1 purchase pin entry."),$badger.showPurchasePinOverlay().success((function(e){W.info("Purchase pin entered successfully."),t(e)})).failure((function(t){W.warn("Purchase pin entry failed because ".concat(t.status,"."));var r=new G(t.message);r.status=t.status,e(r)}))}function pt(){return lt.apply(this,arguments)}function lt(){return(lt=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_;case 2:return t.abrupt("return",new Promise(ut));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ft,dt,ht,yt=new URL(window.location.href).searchParams.get("CommerceConf");if(yt){var gt=yt?JSON.parse(decodeURIComponent(yt)):{};ft="".concat(gt.apiBaseUrl,"/commerce"),dt="".concat(gt.apiBaseUrl,"/consent"),ht=gt.snitchBaseUrl}else{var vt=new URL(window.location.href).searchParams.get("ConfidentialCommerceConfig");if(vt){var bt=vt?JSON.parse(decodeURIComponent(vt)):{};ft=bt.apiBaseUrl,dt="".concat(new URL(ft).origin,"/consent"),ht=bt.snitchBaseUrl}else ft="".concat("https://api.commerce.comcast.com","/commerce"),dt="".concat("https://api.commerce.comcast.com","/consent")}var mt=new URL(window.location.href).searchParams.get("skin")||null,xt=";v=1.0.0",wt={auth:xt,productDetails:xt,subscribe:";v=1.0.1",unsubscribe:xt,change:";v=1.0.1",allSubscriptions:";v=1.0.1",offerTextOverlay:";v=1.0.1",allPurchases:xt,bundledEntitlements:xt,consentTextOverlayV1:"",consentTextOverlayV2:";vnd.ccs.v2",consent:";vnd.ccs.v2",eligibility:";vnd.ccs.v2"};const kt={baseUrl:ft,baseCnsntsrvURL:dt,acceptHeader:function(t){return"application/json".concat("".concat(wt[t]),";CommerceSDK.v=","1.4.3")},baseSnitchURL:ht||"http://snitch.xidio.com/snitch",overlaySkin:mt};var Tt=function(t){U(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=z(e);if(r){var o=z(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return H(this,t)});function o(t,e,r,i){var a;return l(this,o),(a=n.call(this,t)).transactionId=e,a.name="TransactionError",a.statusCode=r,a.data=i,a}return p(o)}(M(Error));var At=function(t){U(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=z(e);if(r){var o=z(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return H(this,t)});function o(t,e,r){var i;return l(this,o),(i=n.call(this,t||"Authentication failed",e,r)).name="AuthError",i}return p(o)}(Tt);function Et(){var t=navigator.userAgent.split(" "),e="";return t.forEach((function(t){var r=t.split(":");"partnerId"===r[0]&&(e=r[1])})),e}const Ot=Object.freeze({NO_RE_AUTH:"NO_RE_AUTH",RE_AUTH:"RE_AUTH",FORCE_AUTH:"FORCE_AUTH"});var Pt=1/24,Bt=null,It=s.get(c.D);function St(){return Ct.apply(this,arguments)}function Ct(){return Ct=e(a().mark((function t(){var e,r,n,o,i,u,p,l,f,d=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=d.length>0&&void 0!==d[0]?d[0]:Ot.RE_AUTH,!Bt){t.next=3;break}return t.abrupt("return",Bt);case 3:if(W.info("Authenticating user."),r=s.get(c.BEARERTOKEN),n=s.get(c.OAT),e!==Ot.NO_RE_AUTH||!n||!r){t.next=8;break}return t.abrupt("return",Promise.resolve({bearerToken:r,oat:n,d:It}));case 8:return t.prev=8,t.next=11,ot();case 11:o=t.sent,t.next=18;break;case 14:t.prev=14,t.t0=t.catch(8),W.error(t.t0.message),o=null;case 18:return t.prev=18,t.next=21,st();case 21:i=t.sent,t.next=28;break;case 24:t.prev=24,t.t1=t.catch(18),W.error(t.t1.message),i=null;case 28:if(i||o){t.next=30;break}return t.abrupt("return",Promise.reject(new Error("Thor and xscd are both null value")));case 30:return u="".concat(kt.baseUrl,"/account/authenticate"),p={partnerId:Et()},l=0===p.partnerId.length,f={xscd:o,thor:i,Accept:kt.acceptHeader("auth"),"Content-Type":"application/json"},n&&r&&(f.Authorization=r,f.oat=n,f.d=It),Bt=N().post(u,p,{headers:f}).then((function(t){return W.debug("Authenticated user successfully."),s.set(c.BEARERTOKEN,t.data.bearerToken,{expires:Pt}),s.set(c.OAT,t.data.oat,{expires:Pt}),t.data.d&&(s.set(c.D,t.data.d,{expires:Pt}),It=t.data.d),Bt=null,{bearerToken:t.data.bearerToken,oat:t.data.oat,d:It,acInfo:t.data}}),(function(t){return!0===l?(Bt=null,W.info("Retrying to get partnerId one more time"),p.partnerId=Et(),N().post(u,p,{headers:f}).then((function(t){return s.set(c.BEARERTOKEN,t.data.bearerToken,{expires:Pt}),s.set(c.OAT,t.data.oat,{expires:Pt}),t.data.d&&(s.set(c.D,t.data.d,{expires:Pt}),It=t.data.d),{bearerToken:t.data.bearerToken,oat:t.data.oat,d:It,acInfo:t.data}}),(function(t){return W.error("Failed to authenticated user."),Promise.reject(new At(t.response&&t.response.data.errorMessage,t.response&&t.response.headers.txid,t.response&&t.response.status))}))):(Bt=null,W.error("Failed to authenticated user."),Promise.reject(new At(t.response&&t.response.data.errorMessage,t.response&&t.response.headers.txid,t.response&&t.response.status)))})),t.abrupt("return",Bt);case 37:case"end":return t.stop()}}),t,null,[[8,14],[18,24]])}))),Ct.apply(this,arguments)}function Dt(){return(Dt=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",St().then((function(t){return t.oat})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function jt(){return(jt=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",St().then((function(t){for(var e={},r=0,n=Object.keys(t.acInfo);r<n.length;r++){var o=n[r];"d"!==o&&"bearerToken"!==o&&(e[o]=t.acInfo[o])}return e})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}const Lt=St;function Rt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Nt=r(171),Ft=r.n(Nt);function Ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(r),!0).forEach((function(e){Rt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var zt=N().create({baseURL:kt.baseUrl,timeout:2e4});zt.interceptors.request.use((function(t){return Lt(t.authType).then((function(e){return t.headers.Authorization=e.bearerToken,t["CnstSrv-OAT-header"]?t.headers[t["CnstSrv-OAT-header"]]=e.oat:t.headers.oat=e.oat,t.headers.d=e.d,t.headers.tId=Ft()(),t.url=t.url.replace("{oat}",e.oat),t}))})),zt.interceptors.response.use(void 0,(function(t){var e;return t instanceof Error&&!t.config?Promise.reject(t):t.response?401!==t.response.status||t.config.retry?(e=t.response.data instanceof Object&&t.response.data.errorMessage?t.response.data.errorMessage:"Request for ".concat(t.config.url.replace(t.config.baseURL,"")," failed"),Promise.reject(new Tt(e,t.response.headers.txid,t.response.status))):function(t){s.erase("CommerceOat"),s.erase("CommerceBearerToken");var e=Ht(Ht({},t),{},{retry:!0});return zt(e).then((function(t){return t}),(function(t){return Promise.reject(t)}))}(t.config):Promise.reject(new Tt("Request could not be made to ".concat(t.config.url.replace(t.config.baseURL,""))))}));const Xt=zt;function Qt(){return Mt.apply(this,arguments)}function Mt(){return(Mt=e(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={},t.prev=1,t.next=4,ot();case 4:e.xscd=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e.xscd=null;case 10:return t.next=12,st();case 12:return e.thor=t.sent,t.abrupt("return",e);case 14:case"end":return t.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}var Gt={startTimeMillis:"",expiryTimeMillis:"",linkedPurchaseId:""},qt=function(){function t(e,r,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gt,u=a.startTimeMillis,p=void 0===u?"":u,f=a.expiryTimeMillis,d=void 0===f?"":f,h=a.linkedPurchaseId,y=void 0===h?"":h;l(this,t);var g=Et();this.snitchPayloadData={eventName:"SubscriptionEvents",eventOrigin:"CommerceSDK",productID:e,uuid:o,transactionID:o,linkedPurchaseId:y,eventType:r,eventState:n?"Success":"Exception",partnerId:g,oat:s.get(c.OAT),subscriptionStartDate:p,subscriptionEndDate:d,timestamp:Date.now(),timezone:i}}var r;return p(t,[{key:"sendSnitchEvent",value:(r=e(a().mark((function t(){var e,r,n,o=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qt();case 2:e=t.sent,r="".concat(kt.baseSnitchURL,"/mailbox"),n={headers:{Accept:kt.acceptHeader("subscribe"),"Content-Type":"application/json",xscd:e.xscd,thor:e.thor}},N().put(r,this.snitchPayloadData,n).then((function(){W.debug("Sending snitch data successfully.")}),(function(t){W.error("Snitch ".concat(t," with transactionId: ").concat(o.snitchPayloadData.transactionID))}));case 6:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]),t}();const Kt=qt;var Wt=function(){function t(e){l(this,t),this.description=e.description,this.freeTrial=e.freeTrial,this.price=e.price,this.priceCurrencyCode=e.priceCurrencyCode,this.sku=e.sku,this.subscriptionPeriod=e.subscriptionPeriod,this.title=e.title,this.skuType=e.skuType,this.termsAndConditions=e.termsAndConditions}var r,n,o,i;return p(t,[{key:"subscribe",value:(i=e(a().mark((function t(){var e,r=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et();case 2:return e=t.sent,W.info("Subscribing user to ".concat(this.sku,".")),t.abrupt("return",Xt.post("/subscriptions/sku/".concat(this.sku),void 0,{headers:{Accept:kt.acceptHeader("subscribe")},params:{timeZoneMinutes:e},authType:Ot.NO_RE_AUTH}).then((function(t){return W.debug("User successfully subscribed to ".concat(r.sku,".")),new Kt(r.sku,"subscribe",!0,t.headers.txid,e,t.data).sendSnitchEvent(),re(t)}),(function(t){return W.error("Failed to subscribe user to ".concat(r.sku,".")),new Kt(r.sku,"subscribe",!1,t.transactionId,e).sendSnitchEvent(),Promise.reject(t)})));case 5:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"unsubscribe",value:(o=e(a().mark((function t(e){var r,n,o,i=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et();case 2:return r=t.sent,W.info("Unsubscribing user to the product with purchaseId: ".concat(e,".")),n="/subscriptions/purchaseIds/".concat(e),o={url:n,method:"DELETE",headers:{Accept:kt.acceptHeader("unsubscribe")},params:{timeZoneMinutes:r},authType:Ot.NO_RE_AUTH},t.abrupt("return",Xt(o).then((function(t){return W.debug("User successfully unsubscribed to the product with purchaseId: ".concat(e,".")),new Kt(i.sku,"unsubscribe",!0,t.headers.txid,r,t.data).sendSnitchEvent(),re(t)}),(function(t){return W.error("Failed to unsubscribe user to the product with purchaseId: ".concat(e,".")),new Kt(i.sku,"unsubscribe",!1,t.transactionId,r).sendSnitchEvent(),Promise.reject(t)})));case 7:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})},{key:"change",value:(n=e(a().mark((function t(e,r,n){var o,i,s=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et();case 2:return o=t.sent,W.info("change user to the product: ".concat(this.sku," from the product: ").concat(e,".")),i={url:"/subscriptions/serviceChange",method:"POST",headers:{Accept:kt.acceptHeader("change")},params:{timeZoneMinutes:o},authType:Ot.NO_RE_AUTH,data:{newSku:this.sku,oldSku:e,changeType:r}},"UPGRADE"===r&&(i.data.upgradeOption=n),t.abrupt("return",Xt(i).then((function(t){return W.debug("User successfully change to the product: ".concat(s.sku," from the product: ").concat(e,".")),new Kt(s.sku,r.toLowerCase(),!0,t.headers.txid,o,t.data).sendSnitchEvent(),re(t)}),(function(t){return W.error("Failed to change to the product: ".concat(s.sku," from the product: ").concat(e,".")),new Kt(s.sku,r.toLowerCase(),!1,t.transactionId,o).sendSnitchEvent(),Promise.reject(t)})));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})},{key:"purchase",value:(r=e(a().mark((function t(){var e=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W.info("User is purchasing a product with productId ".concat(this.sku,".")),t.t0=Xt,t.t1="/purchases/oneTimeProducts/sku/".concat(this.sku),t.t2=void 0,t.t3={Accept:kt.acceptHeader("subscribe")},t.next=7,et();case 7:return t.t4=t.sent,t.t5={timeZoneMinutes:t.t4},t.t6={headers:t.t3,params:t.t5},t.abrupt("return",t.t0.post.call(t.t0,t.t1,t.t2,t.t6).then((function(t){return W.debug("User successfully subscribed to ".concat(e.sku,".")),re(t)}),(function(t){return W.error("Failed to subscribe user to ".concat(e.sku,".")),Promise.reject(t)})));case 11:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"toObject",value:function(){return{description:this.description,freeTrial:this.freeTrial,price:this.price,priceCurrencyCode:this.priceCurrencyCode,sku:this.sku,subscriptionPeriod:this.subscriptionPeriod,title:this.title,skuType:this.skuType,termsAndConditions:this.termsAndConditions}}}]),t}(),Jt={};function Vt(){return Yt.apply(this,arguments)}function Yt(){return Yt=e(a().mark((function t(){var e,r,n,o,i,s=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=s.length,n=new Array(r),o=0;o<r;o++)n[o]=s[o];return W.trace("Fetching products: ".concat(n.join(", "),".")),i=(e=[]).concat.apply(e,n),t.abrupt("return",Xt.get(ee(i),{headers:{Accept:kt.acceptHeader("productDetails")}}).then((function(t){return W.trace("Successfully fetched products: ".concat(n.join(", "),".")),te(t.data),t.data}),(function(t){return W.error("Failed to fetch products: ".concat(n.join(", "),".")),Promise.reject(t)})));case 4:case"end":return t.stop()}}),t)}))),Yt.apply(this,arguments)}function _t(){return Zt.apply(this,arguments)}function Zt(){return Zt=e(a().mark((function t(){var e,r,n,o,i,s,c,u=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=u.length,n=new Array(r),o=0;o<r;o++)n[o]=u[o];if(W.info("Getting products: ".concat(n.join(", "),".")),i=(e=[]).concat.apply(e,n),s=i.filter((function(t){return!Jt[t]})),c=function(){var t=i.map((function(t){return Jt[t]}));return W.debug("Got products: ".concat(n.join(", "),".")),1===t.length?t[0]:t},0===s.length){t.next=7;break}return t.abrupt("return",Vt(s).then((function(){return Promise.resolve(c())})));case 7:return t.abrupt("return",Promise.resolve(c()));case 8:case"end":return t.stop()}}),t)}))),Zt.apply(this,arguments)}function $t(){return $t=e(a().mark((function t(){var e=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",_t.apply(void 0,e).then((function(t){return t instanceof Array?t.map((function(t){return t.toObject()})):t.toObject()})));case 1:case"end":return t.stop()}}),t)}))),$t.apply(this,arguments)}function te(t){for(var e=0;e<t.length;e++)Jt[t[e].sku]=new Wt(t[e])}function ee(t){return"/product/details/"+t.join(",")}function re(t){var e=t.data;return{data:{autoRenew:e.autoRenew,autoRenewStatus:e.autoRenewStatus,expiryTimeMillis:e.expiryTimeMillis,purchaseId:e.purchaseId,linkedPurchaseId:e.linkedPurchaseId||void 0,sku:e.sku,startTimeMillis:e.startTimeMillis,endData:e.endData},templateData:{headerText:e.headerText,confirmationProductText:e.productText,confirmationOfferText:e.offerText,confirmationPriceText:e.priceText},transactionId:t.headers.txid}}const ne=Wt;var oe=p((function t(e){l(this,t),e?(this.expiredSubscriptions=e.expiredSubscriptions,this.currentSubscriptions=e.currentSubscriptions,this.futureSubscriptions=e.futureSubscriptions):(this.expiredSubscriptions=[],this.currentSubscriptions=[],this.futureSubscriptions=[])})),ie="/subscriptions";function ae(){return se.apply(this,arguments)}function se(){return(se=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W.trace("Fetching all subscriptions."),t.t0=Xt,t.t1=ie,t.t2={Accept:kt.acceptHeader("allSubscriptions")},t.next=6,et();case 6:return t.t3=t.sent,t.t4={types:"current,future,expired",timeZoneMinutes:t.t3},t.t5={headers:t.t2,params:t.t4},t.abrupt("return",t.t0.get.call(t.t0,t.t1,t.t5).then((function(t){return W.debug("Successfully get all subscriptions."),{data:new oe(t.data),transactionId:t.headers.txid}})).catch((function(t){return 404===t.statusCode?{data:new oe,transactionId:t.transactionId}:(W.error("Failed to get all subscriptions."),Promise.reject(t))})));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ce(){return ue.apply(this,arguments)}function ue(){return(ue=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ae().then((function(t){return t.data})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var pe=p((function t(e){l(this,t),this.bundledEntitlements=e?e.bundledEntitlements:[]})),le="/account/{oat}/entitlements";function fe(){return de.apply(this,arguments)}function de(){return(de=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W.trace("Fetching all bundle entitlements."),t.abrupt("return",Xt.get(le,{headers:{Accept:kt.acceptHeader("bundledEntitlements")}}).then((function(t){return W.debug("Successfully get all bundle entitlements."),{data:new pe(t.data),transactionId:t.headers.txid}})).catch((function(t){return 404===t.statusCode?{data:new pe,transactionId:t.transactionId}:(W.error("Failed to get all bundle entitlements."),Promise.reject(t))})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function he(){return(he=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fe().then((function(t){return t.data})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ye,ge=p((function t(e){l(this,t),this.purchaseDetails=e?e.purchaseDetails:[]})),ve="/purchases/oneTimeProducts";function be(){return me.apply(this,arguments)}function me(){return(me=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W.trace("Fetching all purchases."),t.t0=Xt,t.t1=ve,t.t2={Accept:kt.acceptHeader("allPurchases")},t.next=6,et();case 6:return t.t3=t.sent,t.t4={timeZoneMinutes:t.t3},t.t5={headers:t.t2,params:t.t4},t.abrupt("return",t.t0.get.call(t.t0,t.t1,t.t5).then((function(t){return W.debug("Successfully get all purchases."),{data:new ge(t.data),transactionId:t.headers.txid}})).catch((function(t){return 404===t.statusCode?{data:new ge,transactionId:t.transactionId}:(W.error("Failed to get all purchases."),Promise.reject(t))})));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xe(){return(xe=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",be().then((function(t){return t.data})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function we(){return(we=e(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==e){t.next=2;break}return t.abrupt("return",Promise.resolve({eligibility:!0}));case 2:return r="".concat(kt.baseCnsntsrvURL,"/eligibility"),W.info("Checking user eligibility."),ye=Xt.get(r,{headers:{Accept:kt.acceptHeader("eligibility")},"CnstSrv-OAT-header":"x-ccs-oat"}).then((function(t){return t.data})).catch((function(t){return Promise.reject(t)})),t.abrupt("return",ye);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}const ke=function(t){return we.apply(this,arguments)},Te="#8C8C8C",Ae="#E5E5E5",Ee="#000000",Oe="#2B9CD8",Pe='"Xfinity Sans Reg", XFINITYSans, sans-serif';var Be={X1D:{oldButtonStyle:{"background-color":"",color:Ae,height:"61px",padding:"15px 0px 0px 4px"},buttonStyle:{"background-color":"",color:Oe,height:"61px",padding:"15px 0px 0px 4px"},scrollType:"ALLOW",buttonOrientation:"LEFT_TO_RIGHT"},FLX:{oldButtonStyle:{"background-color":"#282B2C",color:Te,height:"62px",padding:"13px 20px"},buttonStyle:{"background-color":Te,color:Ae,height:"75px",padding:"20px 20px"},scrollType:"ALLOW",buttonOrientation:"LEFT_TO_RIGHT"},PLC:{oldButtonStyle:{"background-color":Ee,color:Ae,height:"62px",padding:"13px 20px"},buttonStyle:{"background-color":Ae,color:Ee,height:"62px",padding:"13px 20px"},scrollType:"NONE",buttonOrientation:"UP_TO_DOWN"}},Ie={X1D:{focusButtonStyle:{"background-color":"",color:Oe,height:"61px",padding:"15px 0px 0px 4px"}},FLX:{focusButtonStyle:{"background-color":Te,color:Ae,height:"62px",padding:"13px 20px"}},PLC:{focusButtonStyle:{"background-color":Ae,color:Ee,height:"62px",padding:"13px 20px"}}};function Se(t){return"commerceButtonCalled"+t.toLowerCase()}var Ce={top:"50%",left:"50%","-webkit-transform":"translate(-50%,-50%)",transform:"translate(-50%,-50%)"};function De(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var je=Object.assign({width:"880px","box-sizing":"border-box",padding:"71px 56px",background:Ee,display:"block",position:"absolute"},Ce),Le={display:"block",margin:"1em 0","font-size":"24px","font-family":'"Xfinity Sans Ex Lgt", XFINITYSans-ExLgt, sans-serif'},Re={display:"block",margin:"20px 0 0"},Ne={display:"block","font-family":Pe,"font-size":"20px","line-height":"26px","max-height":"78px",overflow:"hidden",color:Te},Fe={X1D:{dialogOverlay:je,dialogHeader:{display:"block",margin:"0 0 1em","font-size":"42px",color:Oe,width:"100%","white-space":"normal","margin-bottom":"16px"},dialogBody:Le,dialogFooter:Re,dialogFooterText:Ne,baseBackground:"rgba(51, 51, 51, .8)"},FLX:{dialogOverlay:je,dialogHeader:{display:"block",margin:"0 0 1em","font-size":"42px",color:Te,width:"100%","white-space":"normal","margin-bottom":"16px"},dialogBody:Le,dialogFooter:Re,dialogFooterText:Ne,baseBackground:"rgba(51, 51, 51, .8)"},PLC:{dialogOverlay:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?De(Object(r),!0).forEach((function(e){Rt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({width:"100%","box-sizing":"border-box",padding:"71px 56px",background:Ee,display:"block",position:"absolute"},Ce),dialogHeader:{display:"block",color:Ae,margin:"0 0 0","font-size":"48px","font-family":"fonts/xfinitybrown-bold.woff",width:"100%","white-space":"normal","margin-top":"25px","text-align":"center","font-weight":"600"},dialogBody:{display:"block",margin:"1em 0","font-size":"24px","font-family":Pe,"text-align":"center"},dialogFooter:Re,dialogFooterText:{display:"block","font-family":Pe,"font-size":"24px","line-height":"26px",height:"auto",overflow:"hidden","text-align":"center"},baseBackground:"rgba(0, 0, 0, 1)"}},Ue={X1D:{actionBarStyles:{"border-top":"1px solid #505050","border-bottom":"1px solid #505050",position:"relative",width:"100%",display:"block"},actionBarFocusStyles:{border:"4px solid #E5E5E5","border-width":"4px 0",height:"54px",position:"absolute","padding-right":"6px",transition:"width .4s, left .4s","-webkit-transition":"width .4s, left .4s",display:"block"},actionBarButtonStyles:{display:"inline-block",height:"61px","-webkit-backface-visibility":"hidden","backface-visibility":"hidden","box-sizing":"border-box","vertical-align":"middle","font-size":"28px","margin-right":"28px","padding-left":"4px","padding-top":"15px"}},FLX:{actionBarStyles:{position:"relative",width:"100%",display:"block",height:"85px"},actionBarFocusStyles:{height:"54px",position:"absolute","padding-right":"6px",display:"hidden"},actionBarButtonStyles:{display:"inline-block",height:"62px","-webkit-backface-visibility":"hidden","backface-visibility":"hidden","box-sizing":"border-box","vertical-align":"middle","font-size":"28px","margin-right":"28px","margin-top":"20px",padding:"13px 20px",color:"#949a9f",border:"1px solid black","border-radius":"5px","background-color":"#282b2c"}},PLC:{actionBarStyles:{position:"relative",width:"30%",display:"block",height:"auto","margin-right":"auto","margin-left":"auto","margin-bottom":"15px"},actionBarFocusStyles:{height:"54px",position:"absolute","padding-right":"6px",display:"hidden"},actionBarButtonStyles:{display:"block",height:"62px","-webkit-backface-visibility":"hidden","backface-visibility":"hidden","box-sizing":"border-box","vertical-align":"middle","text-align":"center","font-size":"28px","margin-right":"0px","margin-top":"20px",padding:"13px 20px",color:"#FFFFFF",border:"1px solid #FFFFFF","border-radius":"5px","background-color":"#000000"}}};function He(t,e){if(0===t.length)throw new Error("Expected an array containing at least one string");for(var r=[{attrs:{id:"commerceActionBarFocus"},styles:Ue[e].actionBarFocusStyles}],n=0;n<t.length;n++)r.push({attrs:{id:Se(t[n])},styles:Ue[e].actionBarButtonStyles,text:t[n]});return{styles:Ue[e].actionBarStyles,children:r}}var ze={display:"block",width:"0",height:"0","border-left":"7px solid transparent","border-right":"7px solid transparent"},Xe=Object.assign({visibility:"hidden","border-bottom":"7px solid #505050"},ze),Qe=Object.assign({"border-top":"7px solid #505050"},ze);function Me(t,e){return{type:"footer",styles:Fe[e].dialogFooter,children:[{styles:Xe,attrs:{id:"commerceScrollingTextUpArrow"}},{styles:Fe[e].dialogFooterText,children:[{styles:{display:"block"},attrs:{id:"commerceScrollingTextText"},text:t}]},{styles:Qe,attrs:{id:"commerceScrollingTextDownArrow"}}]}}const Ge=Object.freeze({X1D:"X1D",FLX:"FLX",PLC:"PLC"});function qe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ke(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(r),!0).forEach((function(e){Rt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var We={width:"100%",height:"100%","box-sizing":"border-box",padding:"71px 32px",background:"#000000",display:"block",position:"absolute",top:"48%",left:"50%","-webkit-transform":"translate(-50%,-50%)",transform:"translate(-50%,-50%)"},Je={display:"block",margin:"0 0 1em","font-size":"32px",color:"#FFFFFF",width:"100%","white-space":"normal","margin-bottom":"16px","text-align":"center","font-weight":"600"},Ve={display:"block",margin:"1em 0",width:"48%","font-size":"40px","font-family":'"Xfinity Standard-Medium", Xfinity Brown-Bold, sans-serif',float:"left","text-align":"center","margin-top":"10px"},Ye={display:"block",margin:"1em 0",width:"4%",float:"left","margin-top":"30px"},_e={display:"block",margin:"1em 0",width:"48%","font-size":"40px","font-family":'"Xfinity Standard-Medium", Xfinity Brown-Bold, sans-serif',float:"left","text-align":"center","margin-top":"10px"},Ze={"font-size":"20px","font-family":'"Xfinity Sans Ex Lgt", XFINITYSans-ExLgt, sans-serif',"text-align":"center","margin-top":"10px","margin-bottom":"0px"},$e=[{"border-left":"2px solid gray",height:"100px",position:"relative",left:"50%","margin-top":"10px"},{"border-left":"2px solid gray",height:"100px",position:"relative",left:"50%","margin-top":"10px"}],tr=r(163),er=r.n(tr),rr=r(601),nr=r.n(rr),or={width:"100%",height:"1%",clear:"both"};function ir(t){t.off(["key:select","key:left","key:right","key:up","key:down","key:back"])}var ar=function(){function t(e,r,n,o,i){l(this,t),this.productId=e,this.setButtons(i),this.scrollTextHeight=0,this.scrollTextOffset=0,this.confirmIsFocused=!1,this.view=r,this.eventBus=n,this.platformType=o,this.isNotEligible=!1,this.errorData={},this.transactionId=""}var r,n,o;return p(t,[{key:"addEventListeners",value:function(){var t=this;this.eventBus.on("key:select",e(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.isNotEligible){e.next=19;break}if("Cancel"!==t.focusedButton){e.next=5;break}t.eventBus.emit("error",t.errorData,t.transactionId),e.next=18;break;case 5:if("Continue"!==t.focusedButton){e.next=18;break}return t.view.wait(),e.prev=7,e.next=10,t.render();case 10:t.view.continue(),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(7),t.view.continue(),t.eventBus.emit("error",e.t0),e.abrupt("return");case 18:return e.abrupt("return");case 19:if(!t.confirmIsFocused){e.next=34;break}return W.debug("User confirmed dialog."),t.showLoading(),e.prev=22,e.next=25,t.execute();case 25:t.hideLoading(),e.next=32;break;case 28:e.prev=28,e.t1=e.catch(22),t.hideLoading(),t.eventBus.emit("error",e.t1);case 32:e.next=35;break;case 34:t.closeDialog();case 35:case"end":return e.stop()}}),e,null,[[7,13],[22,28]])})))),this.eventBus.on("key:left",(function(){t.navigateButtons("left")})),this.eventBus.on("key:right",(function(){t.navigateButtons("right")})),this.eventBus.on("key:up",(function(e){e?(t.focusedButton=t.buttons[e.button],t.confirmIsFocused=!1):t.navigateButtons("up")})),this.eventBus.on("key:down",(function(e){e?(t.focusedButton=t.buttons[e.button],t.confirmIsFocused=!0):t.navigateButtons("down")})),this.eventBus.on("key:back",(function(){W.debug("User dismissed dialog."),t.eventBus.emit("dismiss",{message:"User dismissed the dialog"})}))}},{key:"fetchData",value:(o=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_t(this.productId);case 2:this.product=t.sent;case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"getDialogRenderObject",value:function(){return function(t,e,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ge.X1D,s=[],c=!1;if(s.push({type:"header",styles:Fe[a].dialogHeader,text:t}),e&&e.length>0){var u=Ke({},Fe[a].dialogBody);a===Ge.PLC&&(c=!0,u.margin="0em 0"),s.push({type:"p",styles:u,text:e})}var p=Ke({},Fe[a].dialogBody);return c||a!==Ge.PLC?p.margin="1em 0":p.margin="0em 0",s.push({type:"p",styles:p,text:r}),n&&n.length>0&&s.push({type:"p",styles:Fe[a].dialogBody,text:n}),s.push(He(i,a)),o&&o.length>0&&s.push(Me(o,a)),{styles:Fe[a].dialogOverlay,children:s}}(this.offerTextOverlay.header,this.offerTextOverlay.promotionText,this.offerTextOverlay.priceText,this.offerTextOverlay.description,this.offerTextOverlay.termsAndConditions,this.buttons,this.platformType)}},{key:"execute",value:(n=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve());case 1:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"render",value:(r=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.view.wait(),t.prev=1,W.debug("Fetching render data."),t.next=5,this.fetchData();case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(1),this.view.continue(),this.eventBus.emit("error",t.t0),t.abrupt("return");case 12:if(!0!==this.isNotEligible){t.next=17;break}return this.platformType===Ge.PLC&&(this.$el=this.view.render((e=this.templateData,r=this.buttons,void 0,void 0,void 0,a=void 0,void 0,void 0,void 0,n=e.headerText,o=e.leftResolution,i=e.rightResolution,a=[],s=[{type:"p",styles:{"font-size":"25px","margin-bottom":"8px","font-weight":"600"},text:o.leftOptionHeader},{type:"p",styles:{"font-size":"21px",margin:"0"},text:o.leftOptionSolutionOne},{type:"p",styles:{"font-size":"21px",margin:"0"},text:o.leftOptionSolutionTwo},{type:"img",attrs:{src:er(),width:"140",height:"140"},styles:{"margin-top":"20px"}}],c=[{type:"div",styles:$e[0]},{type:"p",styles:Ze,text:"OR"},{type:"div",styles:$e[1]}],u=[{type:"p",styles:{"font-size":"25px","margin-bottom":"8px","font-weight":"600"},text:i.rightOptionHeader},{type:"p",styles:{"font-size":"21px",margin:"0"},children:[{type:"span",text:i.rightOptionSolutionOneA},{type:"img",styles:{"margin-left":"4px","margin-right":"4px"},attrs:{src:nr(),width:"20",height:"20"}},{type:"span",text:i.rightOptionSolutionOneB}]},{type:"p",styles:{"font-size":"21px",margin:"0"},text:i.rightOptionSolutionTwo},{type:"p",styles:{"font-size":"20px",margin:"0"},text:i.rightOptionNextStep}],a.push({type:"header",styles:Je,text:n}),a.push({type:"div",styles:Ve,children:s}),a.push({type:"div",styles:Ye,children:c}),a.push({type:"div",styles:_e,children:u}),a.push({type:"div",styles:or}),a.push(He(r,Ge.PLC)),{styles:We,children:a}),ir(this.eventBus),"ineligible"),this.focusButton(this.focusedButton)),this.addEventListeners(),this.view.continue(),t.abrupt("return");case 17:if(W.debug("Rendering dialog for product ".concat(this.productId,".")),this.$el=this.view.render(this.getDialogRenderObject(),ir(this.eventBus),this.offerTextOverlay.type,this.platformType),this.focusButton(this.focusedButton),this.$el){t.next=24;break}return this.addEventListeners(),this.view.continue(),t.abrupt("return");case 24:this.$scrollingTextText=this.$el.querySelector("#commerceScrollingTextText"),this.$scrollingTextText&&("ALLOW"!==Be[this.platformType].scrollType?this.$el.querySelector("#commerceScrollingTextDownArrow").style.display="none":(this.scrollTextHeight=this.$scrollingTextText.offsetHeight,this.$el.querySelector("#commerceScrollingTextDownArrow").style.visibility=this.scrollTextHeight<=78?"hidden":"visible")),this.addEventListeners(),this.view.continue();case 28:case"end":return t.stop()}var e,r,n,o,i,a,s,c,u}),t,this,[[1,7]])}))),function(){return r.apply(this,arguments)})},{key:"showLoading",value:function(){this.view.wait()}},{key:"hideLoading",value:function(){this.view.continue()}},{key:"closeDialog",value:function(t){W.debug("User cancelled dialog."),this.eventBus.emit("dismiss",t||"")}},{key:"setButtons",value:function(t){this.buttons=t,this.focusedButton=t[0]}},{key:"navigateButtons",value:function(t){"LEFT_TO_RIGHT"===Be[this.platformType].buttonOrientation?("left"===t&&(this.focusButton(this.buttons[0]),this.confirmIsFocused=!1),"right"===t&&(this.focusButton(this.buttons[1]),this.confirmIsFocused=!0),"up"===t&&this.scrollTextUp(),"down"===t&&this.scrollTextDown()):("up"===t&&(this.focusButton(this.buttons[0]),this.confirmIsFocused=!1),"down"===t&&(this.focusButton(this.buttons[1]),this.confirmIsFocused=!0))}},{key:"focusButton",value:function(t){if(this.$el){W.debug("Focusing dialog button: ".concat(t,"."));var e=this.$el.querySelector("#"+Se(this.focusedButton)),r=this.$el.querySelector("#"+Se(t)),n=this.$el.querySelector("#commerceActionBarFocus");this.focusedButton=t,n.style.width=r.offsetWidth+"px",n.style.left=r.offsetLeft+"px",e.style["background-color"]=Be[this.platformType].oldButtonStyle["background-color"],e.style.color=Be[this.platformType].oldButtonStyle.color,e.style.height=Be[this.platformType].oldButtonStyle.height,e.style.padding=Be[this.platformType].oldButtonStyle.padding,r.style["background-color"]=Be[this.platformType].buttonStyle["background-color"],r.style.color=Be[this.platformType].buttonStyle.color,r.style.height=Be[this.platformType].buttonStyle.height,r.style.padding=Be[this.platformType].buttonStyle.padding}}},{key:"scrollTextUp",value:function(){W.trace("Attempting to scroll text up."),this.$scrollingTextText&&this.scrollTextOffset<0&&(W.debug("Scrolling text down."),this.scrollTextOffset+=26,this.$scrollingTextText.style.marginTop=this.scrollTextOffset+"px",0===this.scrollTextOffset&&(W.trace("Reached top of scrolling text."),this.$el.querySelector("#commerceScrollingTextUpArrow").style.visibility="hidden"),this.$el.querySelector("#commerceScrollingTextDownArrow").style.visibility="visible")}},{key:"scrollTextDown",value:function(){W.trace("Attempting to scroll text down."),this.$scrollingTextText&&this.scrollTextOffset+this.scrollTextHeight>78&&(W.debug("Scrolling text down."),this.scrollTextOffset-=26,this.$scrollingTextText.style.marginTop=this.scrollTextOffset+"px",this.scrollTextOffset+this.scrollTextHeight===78&&(W.trace("Reached bottom of scrolling text."),this.$el.querySelector("#commerceScrollingTextDownArrow").style.visibility="hidden"),this.$el.querySelector("#commerceScrollingTextUpArrow").style.visibility="visible")}}]),t}();const sr=Object.freeze({UNAUTHORIZED:401,FORBIDDEN:403,NOTFOUND:404,INELIGIBLE:{MO:400,PP:403},INTERNAL_SERVER_ERROR:500});var cr=p((function t(e){l(this,t),this.sku=e.sku,this.type=e.type,this.header=e.header,this.promotionText=e.promotionText,this.priceText=e.priceText,this.description=e.description,this.termsAndConditions=e.termsAndConditions}));function ur(t,e){return pr.apply(this,arguments)}function pr(){return(pr=e(a().mark((function t(e,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W.trace("Fetching offer overlay with type=".concat(r,".")),t.t0=Xt,t.t1="/product/offer/sku/".concat(e),t.t2={Accept:kt.acceptHeader("offerTextOverlay")},t.next=6,et();case 6:return t.t3=t.sent,t.t4={timeZoneMinutes:t.t3},t.t5={headers:t.t2,params:t.t4},t.abrupt("return",t.t0.get.call(t.t0,t.t1,t.t5).then((function(t){W.debug("Successfully fetch the offer text overlays.");var n=t.data.actions.find((function(t){return t.type===r}));if(!n){W.error("Failed to fetch the offer text overlay for the order of type ".concat(r));var o="User is already ".concat(r,"d to the SKU");return Promise.reject(new Tt(o,t.headers.txid,sr.FORBIDDEN))}return new cr({sku:e,type:r,header:n.overlayOfferText.header,promotionText:n.overlayOfferText.promotionText,priceText:n.overlayOfferText.priceText,description:n.overlayOfferText.description,termsAndConditions:n.overlayOfferText.termsAndConditions})})).catch((function(t){return W.error("Failed to fetch the offer text overlay"),Promise.reject(t)})));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function lr(t){return fr.apply(this,arguments)}function fr(){return(fr=e(a().mark((function t(e){var r,n,o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={},n="consentTextOverlayV2",r={appId:e.appId,appName:e.appName,partnerId:Et(),productDetails:e.productDetails},t.next=5,Qt();case 5:return o=t.sent,i="".concat(kt.baseCnsntsrvURL,"/overlay"),t.abrupt("return",Xt.post(i,r,{headers:{Accept:kt.acceptHeader(n),xscd:o.xscd,thor:o.thor},"CnstSrv-OAT-header":"x-ccs-oat"}).then((function(t){W.debug("Successfully fetch the offer text overlays.");var r=t.data;return new cr({sku:"consent",type:"CONSENT",header:e.appName,promotionText:e.productDescription,priceText:r.formattedTotal,description:r.disclaimer,termsAndConditions:r.termsAndConditions})})).catch((function(t){return W.error("Failed to fetch the offer text overlay"),Promise.reject(t)})));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}const dr=function(){function t(e){l(this,t),this.consentPayloadData=[{appId:e.appId,oat:s.get(c.OAT),msoPartner:Et(),currency:e.currency,totalChargeAmount:e.formattedTotal,productDetails:e.productDetails}]}var r;return p(t,[{key:"consent",value:(r=e(a().mark((function t(){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W.trace("Fetching Consent token"),e="".concat(kt.baseCnsntsrvURL,"/token"),r={url:e,method:"POST",headers:{Accept:kt.acceptHeader("consent")},data:this.consentPayloadData,"CnstSrv-OAT-header":"x-ccs-oat"},t.abrupt("return",Xt(r).then((function(t){return W.debug("Successfully get consent token"),t}),(function(t){return W.error("Unsuccessfully get consent token"),Promise.reject(t)})));case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]),t}();var hr=function(){function t(e,r,n,o,i){l(this,t),this.templateData=e,this.errorData=r,this.transactionId=r.transactionId,this.button="Close",this.view=n,this.eventBus=o,this.platformType=i}return p(t,[{key:"addEventListeners",value:function(){var t=this;this.eventBus.on(["key:select","key:back"],(function(){W.debug("User dismissed Error dialog."),t.eventBus.emit("error",t.errorData,t.transactionId)}))}},{key:"render",value:function(){var t,e,r,n,o,i;W.debug("Rendering Error dialog."),this.$el=this.view.render((t=this.templateData,e=this.platformType,r=t.header,n=t.reason,o=t.solution,i=[{type:"header",styles:Fe[e].dialogHeader,text:r},{type:"p",styles:Le,text:n},{type:"p",styles:Le,text:o},He(["Close"],e)],{styles:je,children:i}),void this.eventBus.off(["key:select","key:back"]),"ineligible"),this.focusButton(),this.addEventListeners()}},{key:"focusButton",value:function(){if(this.$el){W.debug("Focusing dialog button: ".concat(this.button,"."));var t=this.$el.querySelector("#".concat(Se(this.button))),e=this.$el.querySelector("#commerceActionBarFocus");e.style.width=t.offsetWidth+"px",e.style.left=t.offsetLeft+"px",t.style["background-color"]=Ie[this.platformType].focusButtonStyle["background-color"],t.style.color=Ie[this.platformType].focusButtonStyle.color,t.style.height=Ie[this.platformType].focusButtonStyle.color,t.style.padding=Ie[this.platformType].focusButtonStyle.color}}}]),t}();var yr=function(t){U(c,t);var r,n,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(o);if(i){var r=z(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return H(this,t)});function c(t,e,r,n,o,i){var a;return l(this,c),(a=s.call(this,t,n,o,i,["Cancel","Confirm"])).product=new ne({sku:a.productId}),a.productInfo=e,a.checkForEligibility=r,a}return p(c,[{key:"showLoading",value:function(){this.consentLoading=this.view.getConsentLoadingSpinner(440,140),this.consentLoading.render()}},{key:"hideLoading",value:function(){this.consentLoading.stop(),this.pinErr&&this.render()}},{key:"fetchData",value:(n=e(a().mark((function t(){var e,r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ke(this.checkForEligibility);case 2:if(!0!==(e=t.sent).eligibility){t.next=12;break}if(this.pinErr){t.next=8;break}return t.next=7,lr(this.productInfo);case 7:this.offerTextOverlay=t.sent;case 8:this.consentToken=new dr(this.productInfo),this.isNotEligible=!1,t.next=13;break;case 12:e.hasOwnProperty("data")?(this.isNotEligible=!0,r=e.data,this.platformType!==Ge.PLC?new hr(r,new Tt("User Ineligible",e.transactionId,sr.INELIGIBLE.PP),this.view,this.eventBus,this.platformType).render():(this.templateData=r,this.setButtons(["Continue","Cancel"]),this.errorData=new Tt("User Ineligible",e.transactionId,sr.INELIGIBLE.PP),this.transactionId=e.transactionId)):(n=new Tt(e.eligibility,e.transactionId,sr.INELIGIBLE.PP),this.eventBus.emit("error",n,e.transactionId));case 13:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"execute",value:(r=e(a().mark((function t(){var e,r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.pinErr=null,t.next=4,pt();case 4:t.next=12;break;case 6:if(t.prev=6,t.t0=t.catch(0),"USER_DISMISSED_OVERLAY"===t.t0.status||"LOCKED"===t.t0.status){t.next=10;break}throw t.t0;case 10:return this.pinErr=t.t0,t.abrupt("return");case 12:return t.prev=12,t.next=15,this.consentToken.consent();case 15:e=t.sent,this.eventBus.emit("success",{consentToken:e.data.consentToken},e.headers.txid),this.closeDialog(),t.next=23;break;case 20:t.prev=20,t.t1=t.catch(12),t.t1.statusCode===sr.INELIGIBLE.PP?t.t1.data?new hr(t.t1.data,new Tt(t.t1.data,t.t1.transactionId,t.t1.statusCode),this.view,this.eventBus).render():(r=new Tt("false",t.t1.transactionId,t.t1.statusCode),this.eventBus.emit("error",r,t.t1.transactionId)):(n=new Tt("false",t.t1.transactionId,t.t1.statusCode),this.eventBus.emit("error",n,t.t1.transactionId));case 23:case"end":return t.stop()}}),t,this,[[0,6],[12,20]])}))),function(){return r.apply(this,arguments)})}]),c}(ar);function gr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var vr=function(){function t(e,r,n,o,i,a){l(this,t),this.templateData=e,this.successData=r,this.transactionId=n,this.button="Close",this.view=o,this.eventBus=i,this.platformType=a}return p(t,[{key:"addEventListeners",value:function(){var t=this;this.eventBus.on(["key:select","key:back"],(function(){W.debug("User dismissed success dialog."),t.eventBus.emit("success",t.successData,t.transactionId)}))}},{key:"render",value:function(){W.debug("Rendering success dialog."),this.$el=this.view.render(function(t,e){var r=t.headerText,n=t.confirmationProductText,o=t.confirmationOfferText,i=t.confirmationPriceText,a=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gr(Object(r),!0).forEach((function(e){Rt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Fe[e].dialogBody);e===Ge.PLC&&(a.margin="0em 0px");var s=[{type:"header",styles:Fe[e].dialogHeader,text:r},{type:"p",styles:a,text:o},{type:"p",styles:Fe[e].dialogBody,text:i},{type:"p",styles:Fe[e].dialogBody,text:n},He(["Close"],e)];return{styles:je,children:s}}(this.templateData,this.platformType),void this.eventBus.off(["key:select","key:back"]),"success"),this.focusButton(),this.addEventListeners()}},{key:"focusButton",value:function(){if(this.$el){W.debug("Focusing dialog button: ".concat(this.button,"."));var t=this.$el.querySelector("#".concat(Se(this.button))),e=this.$el.querySelector("#commerceActionBarFocus");e.style.width=t.offsetWidth+"px",e.style.left=t.offsetLeft+"px",t.style["background-color"]=Ie[this.platformType].focusButtonStyle["background-color"],t.style.color=Ie[this.platformType].focusButtonStyle.color,t.style.height=Ie[this.platformType].focusButtonStyle.color,t.style.padding=Ie[this.platformType].focusButtonStyle.color}}}]),t}();const br=Object.freeze({subscribe:"subscribe",unsubscribe:"unsubscribe",upgrade:"upgrade",downgrade:"downgrade"});var mr=function(t){U(c,t);var r,n,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(o);if(i){var r=z(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return H(this,t)});function c(t,e,r,n){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ge.X1D;return l(this,c),(o=s.call(this,t,r,n,i,["Cancel","Subscribe"])).product=new ne({sku:o.productId}),o.checkForEligibility=e,o}return p(c,[{key:"fetchData",value:(n=e(a().mark((function t(){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke(this.checkForEligibility);case 3:if(!0!==(e=t.sent).eligibility){t.next=10;break}return t.next=7,ur(this.productId,br.subscribe);case 7:return this.offerTextOverlay=t.sent,this.isNotEligible=!1,t.abrupt("return",this.offerTextOverlay);case 10:if(!e.hasOwnProperty("data")){t.next=16;break}this.isNotEligible=!0,r=e.data,this.platformType!==Ge.PLC?new hr(r,new Tt("User Ineligible",e.transactionId,sr.INELIGIBLE.MO),this.view,this.eventBus,this.platformType).render():(this.templateData=r,this.setButtons(["Continue","Cancel"]),this.errorData=new Tt("User Ineligible",e.transactionId,sr.INELIGIBLE.MO),this.transactionId=e.transactionId),t.next=17;break;case 16:throw new Tt(e.eligibility,e.transactionId,sr.INELIGIBLE.MO);case 17:t.next=22;break;case 19:return t.prev=19,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 22:case"end":return t.stop()}}),t,this,[[0,19]])}))),function(){return n.apply(this,arguments)})},{key:"execute",value:(r=e(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pt();case 3:t.next=10;break;case 5:if(t.prev=5,t.t0=t.catch(0),"USER_DISMISSED_OVERLAY"===t.t0.status||"LOCKED"===t.t0.status){t.next=9;break}throw t.t0;case 9:return t.abrupt("return");case 10:return t.prev=10,t.next=13,this.product.subscribe();case 13:e=t.sent,Object.assign(e.data,{type:"ADD"}),new vr(e.templateData,e.data,e.transactionId,this.view,this.eventBus,this.platformType).render(),t.next=31;break;case 19:if(t.prev=19,t.t1=t.catch(10),t.t1.statusCode!==sr.INELIGIBLE.MO){t.next=30;break}if(!t.t1.data){t.next=27;break}new hr(t.t1.data,new Tt(t.t1.data,t.t1.transactionId,t.t1.statusCode),this.view,this.eventBus).render(),t.next=28;break;case 27:throw new Tt("false",t.t1.transactionId,t.t1.statusCode);case 28:t.next=31;break;case 30:return t.abrupt("return",Promise.reject(t.t1));case 31:case"end":return t.stop()}}),t,this,[[0,5],[10,19]])}))),function(){return r.apply(this,arguments)})}]),c}(ar);function xr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(t,e)||k(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wr=function(t){U(c,t);var r,n,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(o);if(i){var r=z(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return H(this,t)});function c(t,e,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ge.X1D;return l(this,c),(n=s.call(this,t,e,r,o,["Close","Unsubscribe"])).product=new ne({sku:n.productId}),n}return p(c,[{key:"fetchData",value:(n=e(a().mark((function t(){var e,r,n,o,i,s,c=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([ce(),ur(this.productId,br.unsubscribe)]);case 2:if(e=t.sent,r=xr(e,2),this.allSubscriptions=r[0],this.offerTextOverlay=r[1],n=this.allSubscriptions.futureSubscriptions,o=this.allSubscriptions.currentSubscriptions,i=o&&o.find((function(t){return t.sku===c.productId&&"active"===t.autoRenewStatus.toLowerCase()})),s=n&&n.find((function(t){return t.sku===c.productId&&"active"===t.autoRenewStatus.toLowerCase()})),i||s){t.next=13;break}throw W.debug("User cannot unsubscribe to the product: ".concat(this.productId," not in active state.")),new Error("User cannot unsubscribe to the product: ".concat(this.productId," not in active state."));case 13:this.purchaseId=s?s.purchaseId:i.purchaseId;case 14:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"execute",value:(r=e(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.product.unsubscribe(this.purchaseId);case 2:e=t.sent,Object.assign(e.data,{type:"CANCEL"}),new vr(e.templateData,e.data,e.transactionId,this.view,this.eventBus,this.platformType).render();case 6:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]),c}(ar);var kr=function(t){U(c,t);var r,n,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(o);if(i){var r=z(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return H(this,t)});function c(t,e,r,n,o,i,a){var u,p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Ge.X1D;return l(this,c),(u=s.call(this,t,i,a,p,["Cancel","Change"])).oldProductId=e,u.changeType=n,u.upgradeOption=o,u.product=new ne({sku:u.productId}),u.checkForEligibility=r,u}return p(c,[{key:"fetchData",value:(n=e(a().mark((function t(){var e,r,n,o,i,s,c,u,p,l,f,d=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke(this.checkForEligibility);case 3:if(!0!==(e=t.sent).eligibility){t.next=28;break}return t.next=7,Promise.all([ce(),ur(this.productId,this.changeType.toLowerCase())]);case 7:if(r=t.sent,n=xr(r,2),this.allSubscriptions=n[0],this.offerTextOverlay=n[1],o=this.allSubscriptions.currentSubscriptions,i=this.allSubscriptions.futureSubscriptions,o){t.next=16;break}throw W.debug("User cannot make ".concat(this.changeType," change order")),new Error("User cannot make ".concat(this.changeType," change order"));case 16:if(s=o.find((function(t){return t.sku===d.productId})),c=o.find((function(t){return t.sku===d.productId&&"active"===t.autoRenewStatus.toLowerCase()})),u=i&&i.find((function(t){return t.sku===d.productId})),p=o.find((function(t){return t.sku===d.oldProductId&&"active"===t.autoRenewStatus.toLowerCase()})),l=i&&i.find((function(t){return t.sku===d.oldProductId&&"active"===t.autoRenewStatus.toLowerCase()})),f=p||l,!(s&&u||c)&&f){t.next=26;break}throw W.debug("User cannot make ".concat(this.changeType," change order")),new Error("User cannot make ".concat(this.changeType," change order"));case 26:t.next=34;break;case 28:if(!e.hasOwnProperty("data")){t.next=33;break}new hr(e.eligibility,new Tt(e.data,e.headers.txid,sr.INELIGIBLE.MO),this.view,this.eventBus).render(),t.next=34;break;case 33:throw new Tt(e.eligibility,e.transactionId,sr.INELIGIBLE.MO);case 34:t.next=39;break;case 36:return t.prev=36,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 39:case"end":return t.stop()}}),t,this,[[0,36]])}))),function(){return n.apply(this,arguments)})},{key:"execute",value:(r=e(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pt();case 3:t.next=10;break;case 5:if(t.prev=5,t.t0=t.catch(0),"USER_DISMISSED_OVERLAY"===t.t0.status||"LOCKED"===t.t0.status){t.next=9;break}throw t.t0;case 9:return t.abrupt("return");case 10:return t.prev=10,t.next=13,this.product.change(this.oldProductId,this.changeType,this.upgradeOption);case 13:e=t.sent,Object.assign(e.data,{type:"CHANGE ".concat(this.changeType)}),new vr(e.templateData,e.data,e.transactionId,this.view,this.eventBus,this.platformType).render(),t.next=31;break;case 19:if(t.prev=19,t.t1=t.catch(10),t.t1.statusCode!==sr.INELIGIBLE.MO){t.next=30;break}if(!t.t1.data){t.next=27;break}new hr(t.t1.data,new Tt(t.t1.data,t.t1.transactionId,t.t1.statusCode),this.view,this.eventBus,this.platformType).render(),t.next=28;break;case 27:throw new Tt("false",t.t1.transactionId,t.t1.statusCode);case 28:t.next=31;break;case 30:return t.abrupt("return",Promise.reject(t.t1));case 31:case"end":return t.stop()}}),t,this,[[0,5],[10,19]])}))),function(){return r.apply(this,arguments)})}]),c}(ar);var Tr=function(t){U(c,t);var r,n,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(o);if(i){var r=z(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return H(this,t)});function c(t,e,r){var n;return l(this,c),(n=s.call(this,t,e,r,["Cancel","Buy"])).product=new ne({sku:n.productId}),n}return p(c,[{key:"fetchData",value:(n=e(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ur(this.productId,br.subscribe);case 2:this.offerTextOverlay=t.sent;case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"execute",value:(r=e(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pt();case 3:t.next=10;break;case 5:if(t.prev=5,t.t0=t.catch(0),"USER_DISMISSED_OVERLAY"===t.t0.status||"LOCKED"===t.t0.status){t.next=9;break}throw t.t0;case 9:return t.abrupt("return");case 10:return t.next=12,this.product.purchase();case 12:e=t.sent,Object.assign(e.data,{type:"BUY"}),new vr(e.templateData,e.data,e.transactionId,this.view,this.eventBus).render();case 16:case"end":return t.stop()}}),t,this,[[0,5]])}))),function(){return r.apply(this,arguments)})}]),c}(ar);function Ar(){return Er.apply(this,arguments)}function Er(){return(Er=e(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!kt.overlaySkin){t.next=2;break}return t.abrupt("return",kt.overlaySkin);case 2:return t.next=4,$();case 4:if("xglobal"!==(e=t.sent).partnerId){t.next=7;break}return t.abrupt("return",Ge.PLC);case 7:if(null===e.userExperience){t.next=12;break}if("1001"!==e.userExperience){t.next=10;break}return t.abrupt("return",Ge.FLX);case 10:if("1000"!==e.userExperience){t.next=12;break}return t.abrupt("return",Ge.X1D);case 12:return t.abrupt("return",Ge.X1D);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Or=null;try{Or=commerceRender}catch(t){W.error(t)}function Pr(t){return"boolean"===o(t)}function Br(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{complete:r,data:t,transactionId:e,oat:s.get(c.OAT)}}function Ir(t,e){Or.renderEB.on("success",(function(e,r){W.debug("Order flow succeded."),Sr(t,Br(e,r,!0))})),Or.renderEB.on("error",(function(t){W.debug("Order flow failed."),t instanceof Error?Sr(e,t):Sr(e,new Error("Unspecified error occurred"))})),Or.renderEB.on("dismiss",(function(e){W.debug("User dismissed order."),Sr(t,Br(e))}))}function Sr(t,e){Or.renderEB.clear(),Or.unmount(),t(e)}const Cr={getOAccountToken:function(){return Dt.apply(this,arguments)},getAccountInfo:function(){return jt.apply(this,arguments)},getEligibility:ke,getVersion:function(){return"v".concat("1.4.3")},setLogLevel:function(t){return W.setCurrentLogLevel(t)},LogLevels:q,Transaction:x,Order:A,Consent:L,productCategory:E,chargeCategoryType:O,frequencyType:P,transactionType:f,changeType:d,upgradeOption:h,order:{render:function(t){var r=arguments;return e(a().mark((function e(){var n,i,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],null!==Or){e.next=3;break}return e.abrupt("return",Promise.reject(new TypeError("Render script is not loaded")));case 3:if(Pr(n)){e.next=5;break}throw new TypeError('expected property checkForEligibility to be of type "boolean", but was of type '.concat(o(n)));case 5:if(!(t instanceof A)){e.next=43;break}if(1===t.transactions.length){e.next=8;break}return e.abrupt("return",Promise.reject(new Error("commerce.order.render only works for 1 transaction")));case 8:return i=new Promise(Ir),e.next=11,Ar();case 11:return s=e.sent,e.next=14,Or.mount(s);case 14:c=t.transactions[0],W.info("Starting order flow for transaction type: ".concat(c.type,".")),e.prev=16,e.t0=c.type,e.next=e.t0===f.ADD?20:e.t0===f.CANCEL?24:e.t0===f.CHANGE?28:e.t0===f.PURCHASE?32:36;break;case 20:return u=new mr(c.sku,n,Or.renderer,Or.renderEB,s),e.next=23,u.render();case 23:return e.abrupt("break",37);case 24:return u=new wr(c.sku,Or.renderer,Or.renderEB,s),e.next=27,u.render();case 27:return e.abrupt("break",37);case 28:return u=new kr(c.sku,c.oldSku,n,c.changeType,c.upgradeOption,Or.renderer,Or.renderEB,s),e.next=31,u.render();case 31:return e.abrupt("break",37);case 32:return u=new Tr(c.sku,Or.renderer,Or.renderEB,s),e.next=35,u.render();case 35:return e.abrupt("break",37);case 36:Or.renderEB.emit("error",new Error("Encountered unknown transactionType, ".concat(c.type)));case 37:e.next=42;break;case 39:e.prev=39,e.t1=e.catch(16),Or.renderEB.emit("error",new Error("Uncaught error occurred in SDK"));case 42:return e.abrupt("return",i);case 43:return e.abrupt("return",Promise.reject(new TypeError("commerce.order.render requires an order as an argument")));case 44:case"end":return e.stop()}}),e,null,[[16,39]])})))()}},product:{get:function(){return $t.apply(this,arguments)}},allSubscriptions:{get:ce},allPurchases:{get:function(){return xe.apply(this,arguments)}},bundledEntitlements:{get:function(){return he.apply(this,arguments)}},render:function(t){var r=arguments;return e(a().mark((function e(){var n,i,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],null!==Or){e.next=3;break}return e.abrupt("return",Promise.reject(new TypeError("Render script is not loaded")));case 3:if(Pr(n)){e.next=5;break}throw new TypeError('expected property checkForEligibility to be of type "boolean", but was of type '.concat(o(n)));case 5:if(null!==Or){e.next=7;break}return e.abrupt("return",Promise.reject(new TypeError("Render script is not loaded")));case 7:return e.next=9,Ar();case 9:if(i=e.sent,s=t,!(t instanceof L)){e.next=25;break}return c=new Promise(Ir),e.next=15,Or.mount(i);case 15:return e.prev=15,u=new yr("consent",s,n,Or.renderer,Or.renderEB,i),e.next=19,u.render();case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(15),Or.renderEB.emit("error",new Error("Uncaught error occurred in SDK"));case 24:return e.abrupt("return",c);case 25:return e.abrupt("return",Promise.reject(new TypeError("commerce.render requires an argument")));case 26:case"end":return e.stop()}}),e,null,[[15,21]])})))()}}})(),n.default})()));
//# sourceMappingURL=commerce.min.js.map